import numpy as np
import io

# Load data from the .npy file
path = "/local2/dmreynos/diffuser_bball/logs/guided_sampleshuestoppedval100_0.1/2016.NBA.Raw.SportVU.Game.Logs12.05.2015.POR.at.MIN_dir-0-guided-245K.npy"  # Replace with the path to your .npy file
data = np.load(path, allow_pickle=True)
# print(data[0].shape)
#print(data.files)
pickle_file = data['archive/data.pkl']
file_obj = io.BytesIO(pickle_file)
diffuser_output = np.load(file_obj, allow_pickle=True)
print(diffuser_output.shape)

# print(diffuser_output[0][100].reshape(11,6))
# print(diffuser_output[0][101].reshape(11,6))
# print(diffuser_output[0][102].reshape(11,6))
# print(diffuser_output[0][1000].reshape(11,6))

print(diffuser_output[0][100].reshape(11,6).astype(int))
print(diffuser_output[0][101].reshape(11,6).astype(int))
print(diffuser_output[0][102].reshape(11,6).astype(int))
print(diffuser_output[0][1001].reshape(11,6).astype(int))

# flata = np.array([-5.2459216e+00, 1.8242519e+01, 9.1577983e-01, 1.3771057e-01,
#                        6.9858551e-02, 2.7679443e-02, -5.0344090e+00, 2.2021240e+01,
#                        0.0000000e+00, -1.0208130e-02, -1.2245178e-01, 0.0000000e+00,
#                        6.0510971e+01, 2.2556499e+01, 0.0000000e+00, 3.3773804e-01,
#                        2.0919418e-01, 0.0000000e+00, 1.0497611e+01, 2.8166920e+01,
#                        0.0000000e+00, -5.9509277e-03, -5.7460785e-02, 0.0000000e+00,
#                        4.0483299e+01, 2.0033461e+01, 0.0000000e+00, 3.8675690e-01,
#                        -1.8320847e-01, 0.0000000e+00, 4.8636711e+01, 2.3892162e+01,
#                        0.0000000e+00, 5.3384399e-01, -1.2215042e-01, 0.0000000e+00,
#                        4.8153278e+01, 2.5572910e+01, 0.0000000e+00, 3.6884308e-01,
#                        3.5339355e-02, 0.0000000e+00, 5.0529949e+01, 2.7151913e+01,
#                        0.0000000e+00, -4.9949646e-02, -1.3940048e-01, 0.0000000e+00,
#                        4.8204903e+01, 2.9272642e+01, 0.0000000e+00, 4.1011047e-01,
#                        -3.0971527e-02, 0.0000000e+00, 6.4409111e+01, 2.1014759e+01,
#                        0.0000000e+00, 3.7107086e-01, 1.0221863e-01, 0.0000000e+00,
#                        3.4468090e+01, 1.9161301e+01, 0.0000000e+00, 2.1038055e-01,
#                        4.0630341e-02, 0.0000000e+00])

# array_2d = flata.reshape(11, 6)

# print(np.round(array_2d, 2))

# data_list = [-5.10821056e+00, 1.83123798e+01, 9.43460166e-01, -7.22122192e-02,
#              -9.12284851e-02, -2.00660706e-01, -5.04462147e+00, 2.18987904e+01,
#              0.00000000e+00, -5.59234619e-03, -1.17248535e-01, 0.00000000e+00,
#              6.08487091e+01, 2.27656898e+01, 0.00000000e+00, 3.29086304e-01,
#              2.06150055e-01, 0.00000000e+00, 1.04916601e+01, 2.81094627e+01,
#              0.00000000e+00, -3.09753418e-03, -5.74493408e-02, 0.00000000e+00,
#              4.08700600e+01, 1.98502502e+01, 0.00000000e+00, 4.00596619e-01,
#              -1.90479279e-01, 0.00000000e+00, 4.91705513e+01, 2.37700119e+01,
#              0.00000000e+00, 4.91607666e-01, -1.31938934e-01, 0.00000000e+00,
#              4.85221176e+01, 2.56082497e+01, 0.00000000e+00, 2.91831970e-01,
#              7.76710510e-02, 0.00000000e+00, 5.04799995e+01, 2.70125103e+01,
#              0.00000000e+00, -4.46319580e-02, -9.12895203e-02, 0.00000000e+00,
#              4.86150055e+01, 2.92416706e+01, 0.00000000e+00, 4.40376282e-01,
#              3.64303589e-02, 0.00000000e+00, 6.47801819e+01, 2.11169796e+01,
#              0.00000000e+00, 3.56491089e-01, 1.13670349e-01, 0.00000000e+00,
#              3.46784706e+01, 1.92019291e+01, 0.00000000e+00, 2.08511353e-01,
#              4.00695801e-02, 0.00000000e+00]

# # Reshape the list into a 11x6 array
# array_11x6 = np.round(np.array(data_list).reshape(11, 6), 2)

# print(array_11x6)
